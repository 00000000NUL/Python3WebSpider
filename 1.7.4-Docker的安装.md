# Docker的安装

Docker 是一种容器技术，它可以将应用和环境等进行打包，形成一个独立的，类似于 iOS 的 APP 形式的「应用」，这个应用可以直接被分发到任意一个支持 Docker 的环境中，通过简单的命令即可启动运行。Docker 是一种最流行的容器化实现方案。和虚拟化技术类似，它极大的方便了应用服务的部署；又与虚拟化技术不同，它以一种更轻量的方式实现了应用服务的打包。使用 Docker 可以让每个应用彼此相互隔离，在同一台机器上同时运行多个应用，不过他们彼此之间共享同一个操作系统。Docker 的优势在于，它可以在更细的粒度上进行资源的管理，也比虚拟化技术更加节约资源。

原文出处：[DaoCloud官方文档](http://guide.daocloud.io/dcs/docker-9152673.html)

本节来介绍一下三大平台下Docker的安装方式：

## Windows

如果你是Win10 64位系统，那么可以直接从Docker官方网站下载最新的Docker for Windows安装包即可，[https://docs.docker.com/docker-for-windows/install/](https://docs.docker.com/docker-for-windows/install/)

如果不是Win10 64位系统，则可以下载Docker Toolbox，[https://docs.docker.com/toolbox/toolbox_install_windows/](https://docs.docker.com/toolbox/toolbox_install_windows/)。

安装包下载之后直接双击安装即可，安装详细过程可以参考文档说明，安装完成之后双击Docker图标即可进入Docker命令行。

运行Docker命令测试即可。

```
$ docker run hello-world
Unable to find image 'hello-world:latest' locally
latest: Pulling from library/hello-world
78445dd45222: Pull complete 
Digest: sha256:c5515758d4c5e1e838e9cd307f6c6a0d620b5e07e6f927b07d05f6d12a1ac8d7
Status: Downloaded newer image for hello-world:latest
Hello from Docker!
This message shows that your installation appears to be working correctly.
```

如果出现类似上述提示就证明Docker安装成功了。

## Linux

详细的安装说明可以参见官方文档，[https://docs.docker.com/engine/installation/linux/ubuntu/](https://docs.docker.com/engine/installation/linux/ubuntu/)。在这里将常用的系统安装方法予以说明。

在此均以Docker CE版本为例简述其安装过程。

### CentOS、RedHat

首先需要设置Repository：

```
sudo yum install -y yum-utils
sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo
sudo yum makecache fast
```

然后安装Docker：

```
sudo yum -y install docker-ce
```

安装成功后启动Docker：

```
sudo systemctl start docker
```

测试运行：

```
sudo docker run hello-world
```

如果出现上文所示运行结果，则证明安装成功。

### Ubuntu

首先安装所需的软件包：

```
sudo apt-get -y install apt-transport-https ca-certificates curl software-properties-common
```

然后安装Docker官方的GPG密钥：

```
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -
```

添加并更新apt-get源：

```
sudo add-apt-repository "deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable"
sudo apt-get update
```

然后安装Docker：

```
sudo apt-get -y install docker-ce
```

测试运行：

```
sudo docker run hello-world
```

如果出现上文所示运行结果，则证明安装成功。


### Fedora

此Docker CE版本支持Fedora 24、25。

首先需要设置Repository：

```
sudo dnf -y install dnf-plugins-core
sudo dnf config-manager --add-repo https://download.docker.com/linux/fedora/docker-ce.repo
sudo dnf makecache fast
```

然后通过命令安装即可：

```
sudo dnf -y install docker-ce
```

安装完成成功启动Docker：

```
sudo systemctl start docker
```

测试运行：

```
sudo docker run hello-world
```

如果出现上文所示运行结果，则证明安装成功。

## Mac OS

Mac平台同样有两种选择，Docker for Mac和Docker Toolbox。

Docker for Mac要求系统为OS X EI Captain 10.11或更新，至少4GB内存。下载及安装说明为[https://docs.docker.com/docker-for-mac/install/](https://docs.docker.com/docker-for-mac/install/)。

如果系统不满足要求，可以下载Docker Toolbox，链接为[https://docs.docker.com/toolbox/overview/](https://docs.docker.com/toolbox/overview/)。

关于Docker for Mac和Docker Toolbox的区别，可以参见[https://docs.docker.com/docker-for-mac/docker-toolbox/](https://docs.docker.com/docker-for-mac/docker-toolbox/)。

Docker安装完成后依然可以使用如下命令测试运行：

```
sudo docker run hello-world
```

## 镜像加速

如果觉得下载镜像太慢可以使用Docker加速器，如DaoCloud，[https://www.daocloud.io/mirror](https://www.daocloud.io/mirror)，配置加速器之后之后下载镜像速度会快非常多。

