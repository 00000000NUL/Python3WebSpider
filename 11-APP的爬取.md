# 第十一章 APP的爬取

前文介绍的都是爬取Web网页的内容。随着移动互联网的发展，越来越多的企业并没有提供Web网页端的服务，而是直接开发了App，更多更全的信息都是通过App来展示的。那么针对App我们可以爬取吗？当然可以。

App的爬取相比Web端爬取更加容易，反爬虫能力没有那么强，而且数据大多是以JSON形式传输的，解析更加简单。在Web端，我们可以通过浏览器的开发者工具监听到各个网络请求和响应过程，在App端如果想要查看这些内容就需要借助抓包软件。常用的抓包软件有WireShark、Filddler、Charles、mitmproxy、AnyProxy等，它们的原理基本是相同的。我们可以通过设置代理的方式将手机处于抓包软件的监听之下，这样便可以看到App在运行过程中发生的所有请求和响应了，相当于分析Ajax一样。如果这些请求的URL、参数等都是有规律的，那么总结出规律直接用程序模拟爬取即可，如果它们没有规律，那么我们可以利用另一个工具mitmdump对接Python脚本直接处理Response。另外，App的爬取肯定不能由人来完成，也需要做到自动化，所以我们还要对App进行自动化控制，这里用到的库是Appium。

本章将介绍Charles、mitmproxy、mitmdump、Appium等库的用法。掌握了这些内容，我们可以完成绝大多数App数据的爬取。